<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tidsreisen: Klokkemesteren</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>

    <div id="app-container">
        
        <header id="top-bar" class="hidden">
            <div class="currency-box">
                <span class="crystal-icon">ğŸ’</span>
                <span id="crystal-count">0</span>
            </div>
            <button id="home-btn" class="nav-btn">ğŸ  Meny</button>
        </header>

        <section id="main-menu" class="view active">
            <h1 class="game-title">Tidsreisen</h1>
            <h2 class="game-subtitle">Klokkemesteren</h2>
            
            <div class="menu-currency">
                <span>ğŸ’</span> <span id="menu-crystal-count">0</span>
            </div>

            <button id="shop-btn" class="big-btn shop-btn">ğŸ›’ Butikk & Skins</button>

            <div class="level-select-container">
                <h3>Velg oppdrag:</h3>
                <div class="level-grid" id="level-grid"></div>
            </div>
        </section>

        <section id="shop-view" class="view hidden">
            <h2>Butikken</h2>
            <p>Bruk krystaller pÃ¥ nye utseender!</p>
            <div class="shop-tabs">
                <button class="tab-btn active" data-category="clockface">Urskiver</button>
                <button class="tab-btn" data-category="hands">Visere</button>
                <button class="tab-btn" data-category="background">Bakgrunner</button>
            </div>
            <div id="shop-grid" class="shop-grid"></div>
            <button id="back-from-shop" class="big-btn">Tilbake</button>
        </section>

        <section id="game-view" class="view hidden">
            <div class="game-header">
                <div class="epoch-badge" id="current-epoch-name">Steinalderen</div>
                <div class="progress-container">
                    <div class="progress-bar" id="level-progress"></div>
                </div>
            </div>

            <div class="clock-container">
                <div class="clock-wrapper" id="clock-wrapper">
                    <svg viewBox="0 0 300 300" id="analog-clock">
                        <circle cx="150" cy="150" r="140" class="clock-face" id="clock-face-circle" />
                        
                        <g id="clock-numbers"></g>
                        
                        <g id="hour-hand-group">
                            <rect x="144" y="80" width="12" height="85" rx="5" class="hand hour-hand" />
                        </g>

                        <g id="minute-hand-group">
                            <rect x="146" y="40" width="8" height="130" rx="4" class="hand minute-hand" />
                        </g>
                        
                        <circle cx="150" cy="150" r="8" class="clock-center" />
                    </svg>
                    
                    <div id="digital-display" class="hidden">12:00</div>
                </div>
            </div>

            <div class="question-area">
                <h3 id="question-text">Hva er klokka?</h3>
                <div id="interaction-area">
                    <div id="quiz-buttons" class="hidden options-grid"></div>

                    <div id="clock-controls" class="hidden control-panel">
                        <button class="adjust-btn" onclick="adjustTime(0, -5)">-5 min</button>
                        <button class="adjust-btn" onclick="adjustTime(0, 5)">+5 min</button>
                        <br>
                        <button class="adjust-btn" onclick="adjustTime(-1, 0)">-1 time</button>
                        <button class="adjust-btn" onclick="adjustTime(1, 0)">+1 time</button>
                        <br>
                        <button id="submit-clock-btn" class="action-btn">Svar</button>
                    </div>

                    <div id="digital-input-area" class="hidden">
                         <input type="number" id="inp-hour" placeholder="00" min="0" max="23"> : 
                         <input type="number" id="inp-min" placeholder="00" min="0" max="59">
                         <button id="submit-digital-btn" class="action-btn">Svar</button>
                    </div>
                </div>
            </div>
            <div id="feedback-msg" class="feedback hidden">Riktig!</div>
        </section>

    </div>
    <script src="script.js"></script>
</body>
</html>
